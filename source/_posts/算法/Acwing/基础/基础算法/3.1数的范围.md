---
title: 3.1数的范围
date: 2000-01-01 00:00:00
toc: false
categories:
  - 算法
  - Acwing
  - 基础
  - 基础算法

tags:
  - 算法
  - Acwing
  - 基础
  - 基础算法
  - 模板题
  - 二分
---

[789. 数的范围 - AcWing题库](https://www.acwing.com/problem/content/791/)

### 题目描述
给定一个按照升序排列的长度为 $n$ 的整数数组，以及 $q$ 个查询。

对于每个查询，返回一个元素 $k$ 的起始位置和终止位置（位置从 $0$ 开始计数）。

如果数组中不存在该元素，则返回 `-1 -1`。

#### 输入格式

第一行包含整数 $n$ 和 $q$，表示数组长度和询问个数。

第二行包含 $n$ 个整数（均在 $1 \sim 10000$ 范围内），表示完整数组。

接下来 $q$ 行，每行包含一个整数 $k$，表示一个询问元素。

#### 输出格式

共 $q$ 行，每行包含两个整数，表示所求元素的起始位置和终止位置。

如果数组中不存在该元素，则返回 `-1 -1`。

#### 数据范围

$1 \le n \le 100000$  
$1 \le q \le 10000$  
$1 \le k \le 10000$

#### 输入样例：

```
6 3
1 2 2 3 3 4
3
4
5
```

#### 输出样例：

```
3 4
5 5
-1 -1
```

---
### 算法

![](3.1数的范围/Pasted%20image%2020240509165055.png)

```cpp
#include <iostream>
const int N = 1e5 + 10;
int n, q;
int a[N];

int fun1(int x)
{
    int l = 0, r = n - 1;
    while (l < r)
    {
        int mid = (l + r) >> 1;
        if (a[mid] >= x) r = mid;
        else l = mid + 1;
    }
    if (a[l] == x) return l;
    else return -1;
}

int fun2(int x)
{
    int l = 0, r = n - 1;
    while (l < r)
    {
        int mid = (l + r + 1) >> 1;
        if (a[mid] > x) r = mid - 1;
        else l = mid;
    }
    if (a[l] == x) return l;
    else return -1;
}

int main()
{
    std::cin >> n >> q;
    for (int i = 0; i < n; i++) std::cin >> a[i];
    while (q--)
    {
        int x;
        std::cin >> x;
        std::cout << fun1(x) << " " << fun2(x) << "\n";
    }
}
```