---
title: 1.2第K个数
date: 2000-01-01 00:00:00
toc: false
categories:
  - 算法
  - Acwing
  - 基础
  - 基础算法

tags:
  - 算法
  - Acwing
  - 基础
  - 基础算法
  - 模板题
  - 快速排序
---

[786. 第k个数 - AcWing题库](https://www.acwing.com/problem/content/788/)

### 题目描述
给定一个长度为 $n$ 的整数数列，以及一个整数 $k$，请用快速选择算法求出数列从小到大排序后的第 $k$ 个数。

#### 输入格式

第一行包含两个整数 $n$ 和 $k$。

第二行包含 $n$ 个整数（所有整数均在 $1 \sim 10^9$ 范围内），表示整数数列。

#### 输出格式

输出一个整数，表示数列的第 $k$ 小数。

#### 数据范围

$1 \le n \le 100000$,  
$1 \le k \le n$

#### 输入样例：

```
5 3
2 4 1 5 3
```

#### 输出样例：

```
3
```

---
### 算法

```cpp
#include <iostream>
int n, k;
const int N = 1e5 + 10;
int a[N];

int quick_sort(int l, int r)
{
    if (l == r) return a[l];
    srand(time(NULL));
    std::swap(a[l], a[rand() % (r - l + 1) + l]);
    int i = l + 1, j = r;
    int e = a[l];
    while (true)
    {
        while (i <= r && a[i] < e) i++;
        while (j >= l + 1 && a[j] > e) j--;
        if (i > j) break;
        std::swap(a[i], a[j]);
        i++; j--;
    }
    std::swap(a[l], a[j]);
    if (k < j) quick_sort(l, j - 1);
    else if (k > j) quick_sort(j + 1, r);
    else return a[j];
}

int main()
{
    std::cin >> n >> k;
    k--;
    for (int i = 0; i < n; i++) std::cin >> a[i];
    std::cout << quick_sort(0, n - 1) << "\n";   
}
```



```cpp
#include<iostream>
#include<algorithm>
using namespace std;
const int N=100010;
int a[N];
int quickSort(int a[],int l,int r,int k)
{
    if(l>=r)return a[k];
    int x=a[l],i=l-1,j=r+1;
    while(i<j)
    {
        do i++;while(a[i]<x);
        do j--;while(a[j]>x);
        if(i<j)swap(a[i],a[j]);
    }
    if(k>j)return quickSort(a,j+1,r,k);
    return quickSort(a,l,j,k);
}

int main()
{
    int n,k;
    cin>>n>>k;
    for(int i=0;i<n;i++)
    {
        cin>>a[i];
    }
    cout<<quickSort(a,0,n-1,k-1)<<endl;
    return 0;
}
```