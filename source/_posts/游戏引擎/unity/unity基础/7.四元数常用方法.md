---
title: 7.四元数常用方法
date: 2025-03-02 11:00:47
toc: true
categories:
  - 游戏引擎
  - unity
  - unity基础

tags:
  - 游戏引擎
  - unity
  - unity基础
  - 3D数学
---

![](7.四元数常用方法/file-20250302110057184.png)

# 单位四元数
![](7.四元数常用方法/file-20250302110228942.png)

```cs
// 单位四元数 [1, (0, 0, 0)]
 Quaternion i = Quaternion.identity;
 
 //Object的Instantiate方法有重载 第三个参数可以传入四元数角度 
 Instantiate(testCube, Vector3.zero, Quaternion.identity);
```

# 插值运算
![](7.四元数常用方法/file-20250302110554680.png)

```cs
// 无限接近，先快后慢
A.transform.rotation = Quaternion.Slerp(A.transform.rotation, target.rotation, Time.deltaTime);

// 匀速
time += Time.deltaTime; 
B.transform.rotation = Quaternion.Slerp(start, target.rotation, time);
```

# 向量指向转四元数LookRotation
![](7.四元数常用方法/file-20250302111627899.png)


```cs
public Transform target;
public float rotateSpeed = 2f;

void Update() {
    Vector3 dir = target.position - transform.position;
    Quaternion targetRot = Quaternion.LookRotation(dir);
    transform.rotation = Quaternion.Slerp(transform.rotation, targetRot, rotateSpeed * Time.deltaTime);
}  
```