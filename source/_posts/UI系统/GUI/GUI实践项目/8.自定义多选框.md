---
title: 8.自定义多选框
date: 2025-02-27 15:42:31
toc: true
categories:
  - UI系统
  - GUI
  - GUI实践项目

tags:
  - UI系统
  - GUI
  - GUI实践项目
---

# CustomGUIToggle.cs
```csharp
public class CustomGUIToggle : CustomGUIControl
{
    // 单选的那个bool
    public bool isSel;
    private bool oldSel;
    // 当选中时所要执行的事件
    public event UnityAction<bool> changeEvent;
    protected override void DrawIsOff()
    {
        isSel = GUI.Toggle(guiPos.Pos, isSel, guiContent);
        // 防止一直true true true一直调用事件执行 
        // 只有当 true 和 false 发生变化的时候才去处理
        if (isSel != oldSel)
        {
            changeEvent?.Invoke(isSel);
            oldSel = isSel;
        }
    }
    protected override void DrawIsOn()
    {
        isSel = GUI.Toggle(guiPos.Pos, isSel, guiContent, style);
        if (isSel != oldSel)
        {
            changeEvent?.Invoke(isSel);
            oldSel = isSel;
        }
    }
}
```
