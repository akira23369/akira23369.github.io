---
title: 5.控件父类
date: 2025-02-27 10:19:18
toc: true
categories:
  - UI系统
  - GUI
  - GUI实践项目

tags:
  - UI系统
  - GUI
  - GUI实践项目
---


**这是所有控件的公共基类**
**自定义样式是否启用**的开关枚举
定义了一个枚举类型 `E_Style_onoff` 用于表示自定义样式是否启用。
```cs
public enum E_Style_onoff
{
    On,
    Off,
}
```


自定义控件父类是一个抽象类，继承自`MonoBehaviour`。
```cs
public abstract class CustomGUIControl : MonoBehaviour
{
}
```

**提取控件的共同表现**
位置信息
显示内容信息
自定义样式以及自定义样式是否启用的开关。
```cs
// 位置信息
public CustomGUIPos guiPos;

// 显示内容信息
public GUIContent content;

// 自定义样式
public GUIStyle style;

// 自定义样式是否启用的开关
public E_Style_OnOff styleOnOrOff = E_Style_OnOff.Off;

```

**根据是否使用style写两个抽象方法**
```cs
public void DrawGUI()
{
    switch (styleOnOrOff)
    {
        case E_Style_OnOff.On:
            StyleOnDraw();
            break;
        case E_Style_OnOff.Off:
            StyleOffDraw();
            break;
    }
}

/// <summary>
/// 自定义样式开启时的绘制抽象方法
/// </summary>
protected abstract void StyleOnDraw();

/// <summary>
/// 自定义样式关闭时的绘制抽象方法
/// </summary>
protected abstract void StyleOffDraw();

```

# CustomGUIControl.cs
```cs
public enum E_Style_onoff
{
    On,
    Off,
}
public abstract class CustomGUIControl : MonoBehaviour
{
    // GUI控件公共部分    !!!!!!
    // 位置信息
    public CustomGUIPos guiPos;
    // 显示内容信息
    public GUIContent guiContent;
    // 自定义样式
    public GUIStyle style;
    // 自定义样式开关
    public E_Style_onoff styleIsOn = E_Style_onoff.Off;

    // 提供公共的控件绘制 
    public void GUIDraw()
    {
        switch (styleIsOn)
        {
            case E_Style_onoff.On:
                // 样式开启时使用的绘制函数
                DrawIsOn();
                break;
            case E_Style_onoff.Off:
                DrawIsOff();
                break;
        }
    }
    protected abstract void DrawIsOn();
    protected abstract void DrawIsOff();
}
```

