---
title: 9.窗口
date: 2025-02-26 19:35:31
toc: true
categories:
  - UI系统
  - GUI
  - GUI基础知识

tags:
  - UI系统
  - GUI
  - GUI基础知识
---

# 窗口
```csharp
// 第一个参数是窗口唯一id
// 第三个参数是一个 要一个int作为参数的无返回值的委托, 用来处理窗口内容的
GUI.Window(1, new Rect(0, 0, 500, 500), (a) =>
{
    // 一个函数处理不同的窗口
    switch (a)
    {
        case 1:
            GUI.Button(new Rect(0, 0, 100, 30), "第一个窗口逻辑");
            break;
        case 2:
            break;
    }
}, "测试窗口");
```

# 模态窗口
```cs
// 显示一个模态窗口。
// 模态窗口可以让其它控件不再有用。
// 你可以理解该窗口在最上层，其它按钮都点击不到了，只能点击该窗口上控件。
// 只有把模态窗口处理后, 才可以点击其它窗口
GUI.ModalWindow(3, new Rect(300, 100, 200, 150), (a) => {}, "模态窗口");
// 可能应用于警告弹窗，必须先处理的弹出

```

# 拖动窗口
```cs
public Rect winRect = new Rect(100, 100, 200, 200);

winRect = GUI.Window(3, winRect, (a) =>
{
    // 无参默认窗口所有位置都可以拖动
    // 参数指定窗口的哪一部分可以被鼠标拖动
    GUI.DragWindow();    // 必须要调用这个才能拖动
}, "拖动窗口测试");
```

# 练习
**在之前制作的开始界面中，点击退出游戏按钮，弹出一个模态窗口，让玩家确定是否退出（退出，取消），点击取消后关闭窗口，点击退出后 退出游戏**
**QuitTipPanel.cs**
```cs
private void OnGUI()
{
    // 绘制模态窗口
    GUI.ModalWindow(1, winPos, DrawWindow, "提示");
}

private void DrawWindow(int id)
{
    // 标签
    GUI.Label(labPos, "是否退出");
    
    // 两个按钮
    if(GUI.Button(btnPos1, "退出"))
    {
        Application.Quit();
    }

    if(GUI.Button(btnPos2, "取消"))
    {
        HideMe();
        BeginPanel.ShowMe();
    }
}
```

**BeginPanel.cs**
```cs
if (GUI.Button(btn3Pos, "退出游戏", btnStyle))
{
    QuitTipPanel.ShowMe();
    HideMe();
}
```